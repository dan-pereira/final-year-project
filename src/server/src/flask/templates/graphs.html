<!DOCTYPE html>
<html lang = "en"> 
	<head>
		<meta charset="utf-8" />
		<title>{{ title }} - FYP</title>
		<style> 
			.menubar {
				position: sticky;
				top: 0px;
			}
		</style>
	</head> 
	<body> 
		<!-- chart library -->
		<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js'></script> 
		<div class = menubar> 
			IOT Smart Garden: <a href="/login">Home</a> <a></a>
		</div>
		<div id = "legend"></div>
		<center>
			<button onclick = "graphy()">Display Moisture Values</button>
		</center>
		<center> 
			<h1>{{ Plotting }}</h1>
			<canvas id="chart" width="600" height="400"></canvas>
			<script> 
				function graphy() {
					var bar = { 
						labels : [ 
							{% for item in labels1 %} 
								"{{ item }}",
							{% endfor %}
							], 
						datasets : [{
							fillColor: 'rgba(255, 255, 255, 0.1)',
							strokeColor: 'rgba(0, 0, 0, 1)',
							pointColor: 'rgba(255, 255, 255, 0.1)',
							
							data : [
							{% for item in values1 %}
								{{ item }}, 
							{% endfor %}
							], 
							label: "Plant 1",
							fill: false,
							borderColor: 'rgba(212, 17, 17, 0.1)',
						} , 
						{
							data : [
							{% for item in values2 %} 
								{{ item }},
							{% endfor %}
							],
							label: "Plant 2",
							fill: false,
							borderColor: 'rgba(212, 17, 17, 0.1)'
						} ,
						{ 
							data : [
							{% for item in values3 %} 
								{{ item }},
							{% endfor %}
							],
							label: "Plant 3",
							fill: false,
							borderColor: 'rgba(212, 17, 17, 0.1)',
						}, 	
					]
				}
				// 	var opty = {
				// 		title: {
				// 			display: true, 
				// 			text: "Moisture Values for plants 1, 2 and 3"
				// 		}
				// 	}
				// }
				// Chart.defaults.global.elements.line.fill = false;
				// var legend = chart.generateLegend();
				// document.getElementById("legend").innerHTML = legend;
				var chart = document.getElementById("chart").getContext("2d")
				new Chart(chart).Line(bar, {
					scaleStartValue: 0,
					scaleShowVerticalLines: true, 
					scaleShowGridLines: true,
					bezierCurve: false, 
					scaleShowLabels: true, 
					},
				);
			}
			</script>
		</center>
		<hr>{% block content %}{% endblock %}
		<center>
			<!-- <button><a href = "/water/1">Water Plant 1</a></button>
			<button> <a href = "/water/2">Water Plant 2</a></button>
			<button> <a href = "/water/3">Water Plant3</a></button> -->
			<a href = "/water/1"><button type = "button">Water Plant 1</button></a>
			<a href = "/water/2"><button type = "button">Water Plant 2</button></a>
			<a href = "/water/3"><button type = "button">Water Plant 3</button></a>
		</center>
	</body>
</html>